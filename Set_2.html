<!DOCTYPE html>
<html>
  <head>
    <title>Memory Updating Set 2</title>
    <script src="jspsych-6.0.5/jspsych.js"></script>
    <script src="jspsych-6.0.5/plugins/jspsych-html-keyboard-response.js"></script>
    <script src="jspsych-6.0.5/plugins/jspsych-image-keyboard-response.js"></script>
    <script src="jspsych-6.0.5/plugins/jspsych-survey-text.js"></script>
    <link href="jspsych-6.0.5/css/jspsych.css" rel="stylesheet" type="text/css"></link>
  </head>
  <body></body>
  <script>

    /* create timeline */
    var timeline = [];
    var myvar = "";
    /* define welcome message trial */
    var welcome = {
      type: "html-keyboard-response",
      stimulus: "Press any key to begin."
    };
    timeline.push(welcome);


    var get_ID = {
      type: 'survey-text',
      questions: [{prompt: "Please Enter Participant ID"},{prompt: ""}],

    };
    timeline.push(get_ID)
    /* define instructions trial */
    var instructions = {
      type: "html-keyboard-response",
      stimulus: "<p>In this experiment you will see a series of everyday objects presented " +
          "one at a time at the center of the screen. Each image will be presented twice.</p><p>" +
          "The first time you see the image, press the N key to indicat that it is a NEW image. " +
          "The second time you see the image, press the O key to indicate that it is an OLD image.</p>" +
          "<p>Some of the images will be repeats from the first session of this task you did yesterday. " +
          "I want you to treat those images as 'OLD' if you remember seeing them before. " +
          "Some of the images will be very similar but not identical to an image that you have seen in the previous set. " +
          "I want you to treat those images as 'NEW' the first time you see them and 'OLD' the second time.</p>" +
          "<div style='width: 700px;'>"+
          "</div>"+
          "<p>Press any key to begin.</p>",
      post_trial_gap: 2000
    };
    timeline.push(instructions);

    /* test trials */

    var test_stimuli = [
      {stimulus: "Set1/037a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/095a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/080a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/142b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/179a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/039a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/172a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/075a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/090a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/148b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/172a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/035a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/170a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/179a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/153b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/083a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/126b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/135b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/108b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/142b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/138b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/171a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/148b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/083a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/141b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/123b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/145b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/175a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/177a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/119b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/177a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/038a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/035a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/171a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/157b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/170a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/135b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/090a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/095a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/108b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/040a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/058a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/140b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/037a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/153b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/168a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/091a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/119b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/168a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/038a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/154b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/067a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/080a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/154b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/087a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/149b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/173a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/040a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/058a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/173a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/140b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/187a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/067a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/126b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/188a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/145b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/075a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/059a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/149b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/087a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/187a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/059a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/157b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/123b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/175a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/188a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/039a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/141b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/091a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/138b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/055a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/128b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/046a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/139b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/084a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/147b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/176a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/042a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/114b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/064a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/036a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/139b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/128b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/044a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/162a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/074a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/114b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/159b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/143b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/103b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/047a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/064a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/191a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/071a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/096a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/098b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/106b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/159b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/071a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/047a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/144b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/069a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/034a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/050a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/068a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/130b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/046a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/073a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/078a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/147b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/066a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/106b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/112b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/185a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/036a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/098b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/096a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/185a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/066a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/144b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/112b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/162a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/176a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/050a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/078a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/150b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/043a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/100b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/042a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/131b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/073a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/074a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/034a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/068a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/191a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/131b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/043a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/100b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/055a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/041a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/069a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/061a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/103b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/044a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/150b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/084a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/130b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/143b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/061a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/041a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/113b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/105b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/056a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/070a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/089a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/165a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/065a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/104b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/065a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/082a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/134b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/158b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/057a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/105b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/161a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/101b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/089a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/101b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/134b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/161a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/116b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/152b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/045a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/183a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/053a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/182a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/124b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/155b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/104b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/052a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/158b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/184a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/052a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/192a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/155b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/070a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/048a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/122b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/156b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/097b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/118b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/183a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/107b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/048a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/116b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/174a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/190a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/056a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/085a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/182a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/163a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/189a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/097b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/113b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/174a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/115b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/124b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/186a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/169a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/192a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/163a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/118b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/107b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/062a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/156b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/186a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/045a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/057a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/184a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/165a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/062a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/152b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/053a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/190a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/082a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/085a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/169a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/122b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/189a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/115b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/081a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/166a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/111b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/063a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/127b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/077a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/117b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/110b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/137b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/146b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/164a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/132b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/136b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/072a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/049a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/133b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/109b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/121b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/111b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/129b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/088a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/136b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/088a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/125b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/054a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/099b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/166a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/093a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/060a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/110b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/093a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/180a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/120b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/178a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/079a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/151b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/181a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/099b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/102b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/167a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'n'}},
      {stimulus: "Set1/102b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/092a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/081a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/120b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/076a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/033a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/125b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/127b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/092a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/181a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/086a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/109b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/167a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/129b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/180a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/121b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/178a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/094a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/137b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/060a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/133b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/164a.jpg", data: {stim_type: 'Set_2_Only',  correct_response: 'o'}},
      {stimulus: "Set1/054a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/117b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/049a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/132b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/151b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/086a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/160b.jpg", data: {stim_type: 'Update',  correct_response: 'n'}},
      {stimulus: "Set1/094a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/146b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/160b.jpg", data: {stim_type: 'Update',  correct_response: 'o'}},
      {stimulus: "Set1/072a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/076a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/079a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/033a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/051a.jpg", data: {stim_type: 'Repeat', correct_response: 'n'}},
      {stimulus: "Set1/077a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/051a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
      {stimulus: "Set1/063a.jpg", data: {stim_type: 'Repeat', correct_response: 'o'}},
    ];

    var fixation = {
      type: 'html-keyboard-response',
      stimulus: '<div style="font-size:60px;">+</div>',
      choices: jsPsych.NO_KEYS,
      trial_duration: 500,
      data: {test_part: 'fixation'}
    }

    var test = {
      type: "image-keyboard-response",
      stimulus: jsPsych.timelineVariable('stimulus'),
      choices: ['o', 'n'],
      stimulus_duration: 2500,
      trial_duration: 10000,
      response_ends_trial: true,
      data: jsPsych.timelineVariable('data'),
      on_finish: function(data){
        data.correct = data.key_press == jsPsych.pluginAPI.convertKeyCharacterToKeyCode(data.correct_response);
      },
    }

    var test_procedure = {
      timeline: [fixation, test],
      timeline_variables: test_stimuli,
      repetitions: 1,
      randomize_order: false
    }
    timeline.push(test_procedure);

    // write the data to csv file on server
    function saveData(myvar, data){
      var xhr = new XMLHttpRequest();
      xhr.open('POST', 'write_data.php'); // 'write_data.php' is the path to the php file described above.
      xhr.setRequestHeader('Content-Type', 'application/json');
      xhr.send(JSON.stringify({filename: myvar, filedata: data}));
    };


    /* start the experiment */
    jsPsych.init({
      timeline: timeline,
      on_finish: function() {
        var resp = jsPsych.data.get().select('responses').values[0];
        myvar = JSON.parse(resp).Q0;
        saveData(myvar, jsPsych.data.get().csv());
      }
    });
  </script>
</html>
